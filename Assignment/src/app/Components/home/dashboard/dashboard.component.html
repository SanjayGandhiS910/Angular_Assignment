<div class="dashboardflex">
    <div> 
        <p-inputgroup>
            <p-button label="Search" size="large" severity="info"/>
            <input pInputText placeholder="Search" size="large" #filter (keyup)="search()"/>
        </p-inputgroup>
    </div>
    <div [ngClass]="{'btn2':user}">
        <p-button label="Add User" icon="pi pi-user" size="large" severity="info" (onClick)="openForm()" *ngIf="user"/>
    </div>
</div>

<div class="card">
    <p-table [value]="employeeData" 
            showGridlines
            [paginator]="arrbool"
            [scrollable]="true" 
            scrollHeight="400px"
            [tableStyle]="{ 'min-width': '50rem' }"
            [rows]="5"
            [rowsPerPageOptions]="array">
        <ng-template #header>
            <tr severity="contrast">
                <th pSortableColumn="employeeid" style="min-width:160px" pFrozenColumn>
                    Employee Id <span><p-sortIcon field="employeeid" /></span>
                </th>
                <th pSortableColumn="firstname" style="min-width:160px">
                    First Name<span><p-sortIcon field="firstname" /></span>
                </th>
                <th pSortableColumn="lastname" style="min-width:160px">
                    Last Name<span><p-sortIcon field="lastname" /></span>
                </th>
                <th pSortableColumn="dob" style="min-width:150px">
                    DoB <span><p-sortIcon field="dob" /></span>
                </th>
                <th pSortableColumn="gender" style="min-width:130px">
                    Gender <span><p-sortIcon field="gender" /></span>
                </th>
                <th pSortableColumn="phonenumber" style="min-width:200px">
                    Phone Number <span><p-sortIcon field="phonenumber" /></span>
                </th>
                <th pSortableColumn="doj" style="min-width:200px">
                    Date of Joining <span><p-sortIcon field="doj" /></span>
                </th>
                <th pSortableColumn="departmentname.name" style="min-width:200px">
                    Department Name<span><p-sortIcon field="departmentname.name" /></span>
                </th>
                <th pSortableColumn="position.name" style="min-width:200px">
                    Position <span><p-sortIcon field="position.name" /></span>
                </th>
                <th pSortableColumn="email" style="min-width:200px">
                    Email <span><p-sortIcon field="email" /></span>
                </th>
                <th pSortableColumn="createdsource" style="min-width:200px">
                    Created Source<span><p-sortIcon field="createdsource" /></span>
                </th>
                <th pSortableColumn="createdsourcetype" style="min-width:200px">
                    Created Source Type<span><p-sortIcon field="createdsourcetype" /></span>
                </th>
                <th pSortableColumn="createddate" style="min-width:200px">
                    Created Date<span><p-sortIcon field="createddate" /></span>
                </th>
                <th pSortableColumn="modifiedsource" style="min-width:200px">
                    Modified Source<span><p-sortIcon field="modifiedsource" /></span>
                </th>
                <th pSortableColumn="modifiedsourcetype" style="min-width:210px">
                    Modified Source Type<span><p-sortIcon field="modifiedsourcetype" /></span>
                </th>
                <th pSortableColumn="modifieddate" style="min-width:200px">
                    Modified Date<span><p-sortIcon field="modifieddate" /></span>
                </th>
            </tr>
        </ng-template>
        <ng-template #body let-user>
            <tr>
                <td pFrozenColumn>{{ user.employeeid }}</td>
                <td>{{ user.firstname }}</td>
                <td>{{ user.lastname }}</td>
                <td>{{ user.dob | date }}</td>
                <td>{{ user.gender }}</td>
                <td>{{ user.phonenumber }}</td>
                <td>{{ user.doj | date }}</td>
                <td>{{ user.departmentname.name }}</td>
                <td>{{ user.position.name }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.createdsource }}</td>
                <td>{{ user.createdsourcetype }}</td>
                <td>{{ user.createddate | date }}</td>
                <td>{{ user.modifiedsource }}</td>
                <td>{{ user.modifiedsourcetype }}</td>
                <td>{{ user.modifieddate | date }}</td>
            </tr>
        </ng-template>
        <ng-template #emptymessage>
            <tr>
                <td colspan="16">No customers found.</td>
            </tr>
        </ng-template>
    </p-table>
</div>

<app-adduserform *ngIf="visible" (closeForm)="isCloseForm($event)"/>

<p-toast position="top-center"/>
